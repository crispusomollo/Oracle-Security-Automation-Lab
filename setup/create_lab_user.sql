ALTER SESSION SET CONTAINER = FREEPDB1;

CREATE USER lab_admin IDENTIFIED BY lab123
DEFAULT TABLESPACE users
TEMPORARY TABLESPACE temp
QUOTA UNLIMITED ON users;

GRANT CONNECT, RESOURCE, CREATE SESSION, CREATE TABLE TO lab_admin;
ALTER USER lab_admin ACCOUNT UNLOCK;

CONNECT lab_admin/lab123;
CREATE TABLE departments (
  dept_id NUMBER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
  dept_name VARCHAR2(50)
);

CREATE TABLE employees (
  emp_id NUMBER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
  emp_name VARCHAR2(100),
  job_title VARCHAR2(100),
  salary NUMBER,
  dept_id NUMBER REFERENCES departments(dept_id)
);

INSERT INTO departments (dept_name) VALUES ('IT');
INSERT INTO departments (dept_name) VALUES ('Finance');
INSERT INTO departments (dept_name) VALUES ('Security');
COMMIT;
